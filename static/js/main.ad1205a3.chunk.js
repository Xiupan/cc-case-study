(this["webpackJsonpcc-case-study"]=this["webpackJsonpcc-case-study"]||[]).push([[0],{42:function(e,t,a){e.exports=a(54)},47:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(14),o=a.n(r),l=(a(47),a(29)),c=a(11),s=a(40),u=a(39),p=a(22),d=a.n(p),m=a(33),y=d.a.mark(f),b=d.a.mark(v);function f(e){var t,a,n,i;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,a=t.availableStyles,n=t.currentIndex,i=n+1>a.length-1?0:n+1,r.next=5,Object(m.a)({type:"SET_SELECTED_STYLE",payload:{selectedStyle:a[i]}});case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.log(r.t0);case 10:case"end":return r.stop()}}),y,null,[[0,7]])}function v(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.b)("REQUEST_NEXT_MAP",f);case 2:case"end":return e.stop()}}),b)}var E,h,g=[v],O=Object(u.a)(g),x=a(23),k=a(24),S=Object(k.a)((function(e,t){return e.lat=t.payload.lat,e})),j=Object(k.a)((function(e,t){return e.lng=t.payload.lng,e})),w=Object(k.a)((function(e,t){return e.zoom=t.payload.zoom,e})),_=Object(k.a)((function(e,t){return e.selectedStyle=t.payload.selectedStyle,e})),L=function(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0,i=t[n.type];return"undefined"===typeof i?a:i(a,n)}}({lat:38,lng:-97,zoom:3.75,availableStyles:[{index:0,url:"mapbox://styles/xiupan/ckau8akp02sxa1itd90uq0dqj/draft",name:"Number of Deaths"},{index:1,url:"mapbox://styles/xiupan/ckatvrt2331411ipf1kvl6kpa/draft",name:"Number of Hospitalized"}],selectedStyle:{index:0,url:"mapbox://styles/xiupan/ckau8akp02sxa1itd90uq0dqj/draft",name:"Number of Deaths"}},(E={},Object(x.a)(E,"SET_MAP_LAT",S),Object(x.a)(E,"SET_MAP_LNG",j),Object(x.a)(E,"SET_MAP_ZOOM",w),Object(x.a)(E,"SET_SELECTED_STYLE",_),E)),T=Object(s.a)(),z={"my-future-url-dev.com":"stg","my-future-url.com":"production"}[location.hostname]||"local";h="local"===z&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||c.d;var N=Object(c.c)({map:L}),C=function(e,t){return N(e,t)},M=a(32),P=a(69),D=a(70),I=a(71),A=a(25),H=a.n(A);H.a.accessToken="pk.eyJ1IjoieGl1cGFuIiwiYSI6ImNrYXNoMnBkNzAwazYydWswaTNlcWJ1OHQifQ.9A6APd3bQ6Jm8wY6fvx9og";var q,X,Y={width:"100vw",height:"calc(100vh - 80px)",position:"absolute"},B=[{index:0,key:"number-of-dead",visibility:"none",label:"Number of Deaths"},{index:1,key:"hospitalized",visibility:"none",label:"Number of Hospitalized"}],J=function(){var e=Object(l.b)((function(e){return e.map})),t=Object(n.useState)(null),a=Object(M.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(B[0].label),s=Object(M.a)(c,2),u=s[0],p=s[1],d=Object(n.useRef)(null);return Object(n.useEffect)((function(){r||function(t){var a,n=t.setMapState,i=t.mapContainer;(q=new H.a.Map({container:i.current,style:"mapbox://styles/xiupan/ckau8akp02sxa1itd90uq0dqj/draft",center:[e.lng,e.lat],zoom:e.zoom})).on("load",(function(){var e;q.setLayoutProperty("number-of-dead","visibility","visible"),q.setLayoutProperty("hospitalized","visibility","none"),e=q,B.forEach((function(t){t.visibility=e.getLayoutProperty(t.key,"visibility")})),n(q),q.resize()})),(a=q).on("click","number-of-dead",(function(e){X=(new H.a.Popup).setLngLat(e.lngLat).setHTML("Deaths: ".concat(e.features[0].properties.death)).addTo(a)})),a.on("mouseenter","number-of-dead",(function(e){a.getCanvas().style.cursor="pointer"})),a.on("mouseleave","number-of-dead",(function(e){a.getCanvas().style.cursor=""})),function(e){e.on("click","hospitalized",(function(t){X=(new H.a.Popup).setLngLat(t.lngLat).setHTML(t.features[0].properties.hospitalizedCurrently?"Currently Hospitalized: ".concat(t.features[0].properties.hospitalizedCurrently):"Currently Hospitalized: No data").addTo(e)})),e.on("mouseenter","hospitalized",(function(t){e.getCanvas().style.cursor="pointer"})),e.on("mouseleave","hospitalized",(function(){e.getCanvas().style.cursor=""}))}(q)}({setMapState:o,mapContainer:d})}),[r,e]),i.a.createElement("div",null,i.a.createElement(P.a,{container:!0,spacing:6,direction:"row",justify:"space-between",alignItems:"center"},i.a.createElement(P.a,{item:!0,xs:!0},i.a.createElement(D.a,{variant:"h5",gutterBottom:!0,style:{align:"center",margin:"5px"}},u)),i.a.createElement(P.a,{item:!0,xs:!0},i.a.createElement(D.a,{variant:"h5",gutterBottom:!0,style:{align:"center",margin:"5px"}},"COVID-19 Data (May 28, 2020)")),i.a.createElement(P.a,{item:!0,xs:!0},i.a.createElement(I.a,{variant:"outlined",color:"primary",style:{margin:"5px"},onClick:function(){!function(e){for(var t=0;t<B.length;t++){var a=B[t];if("visible"===a.visibility){if(a.visibility="none",e.setLayoutProperty(a.key,"visibility","none"),t+1>B.length-1){B[0].visibility="visible",e.setLayoutProperty(B[0].key,"visibility","visible"),p(B[0].label),X.remove();break}B[t+1].visibility="visible",e.setLayoutProperty(B[t+1].key,"visibility","visible"),p(B[t+1].label),X.remove();break}}}(q)}},"Next Map Layer"))),i.a.createElement("div",{ref:function(e){return d.current=e},style:Y}))},Q=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(J,null))},R=function(){var e=Object(c.e)(C,h(Object(c.a)(T)));return O.forEach(T.run),e}();var W=function(){return i.a.createElement(l.a,{store:R},i.a.createElement(Q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.ad1205a3.chunk.js.map